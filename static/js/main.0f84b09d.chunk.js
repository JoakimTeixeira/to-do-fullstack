(this["webpackJsonpfront-web"]=this["webpackJsonpfront-web"]||[]).push([[0],{57:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n.n(r),s=n(26),i=n.n(s),o=n(59),u=n(7),l=n.n(u),d=n(9),b=n(10),j=n(8),p=n.n(j),h=n(60),f=n(61),x=n(28),O=Object(r.createContext)(),m=function(t){var e=t.children,n=Object(r.useState)([]),a=Object(b.a)(n,2),s=a[0],i=a[1],o=Object(r.useState)(!1),u=Object(b.a)(o,2),l=u[0],d=u[1],j=Object(r.useRef)(""),h=Object(r.useRef)(""),f=Object(r.useRef)(!1);return Object(c.jsx)(O.Provider,{value:{tasks:s,addTasks:function(t){i([].concat(Object(x.a)(s),[t]))},updateIsEdit:function(t){d(t)},fetchTasks:function(t){i(t)},handleDelete:function(t){p.a.delete("https://to-do-fullstack-api.herokuapp.com/tasks/".concat(t),null);var e=s.filter((function(e){return e.id!==t}));i(e)},handleEditForm:function(t,e,n){e(t.title),n(t.description),d(!0),f.current.disabled=!0,j.current=t.id,h.current.innerText="Edit Task",h.current.classList.remove("btn-primary"),h.current.classList.add("btn-dark")},isEdit:l,cachedId:j,formSubmitButton:h,titleDisable:f},children:e})},k=n(58),v=n(27),w=function(t){var e=t.setTitle,n=t.setDescription,a=Object(r.useContext)(O),s=a.tasks,i=a.fetchTasks,o=a.handleDelete,u=a.handleEditForm;return Object(r.useEffect)((function(){(function(){var t=Object(d.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("https://to-do-fullstack-api.herokuapp.com/tasks/");case 2:e=t.sent,i(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(c.jsx)("table",{className:"table table-bordered table-striped bg-white mb-5",children:s.length>0&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Title"}),Object(c.jsx)("th",{scope:"col",children:"Description"}),Object(c.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(c.jsx)("tbody",{children:s.map((function(t){var r=t.title,a=t.description,s=t.id;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{style:{width:"30%",maxWidth:"70px",wordWrap:"break-word"},children:r}),Object(c.jsx)("td",{style:{width:"47%",maxWidth:"100px",wordWrap:"break-word"},children:a}),Object(c.jsx)("td",{style:{width:"23%",maxWidth:"40px"},children:Object(c.jsxs)(k.a,{className:"w-100",children:[Object(c.jsx)(v.a,{md:6,children:Object(c.jsx)("button",{type:"submit",className:"btn btn-danger m-1",onClick:function(){return o(s)},children:Object(c.jsx)("i",{className:"fas fa-trash-alt"})})}),Object(c.jsx)(v.a,{md:6,children:Object(c.jsx)("button",{type:"submit",className:"btn btn-dark m-1",onClick:function(){return u(t,e,n)},children:Object(c.jsx)("i",{className:"fas fa-edit"})})})]})})]},s)}))})]})})},y=function(){var t=Object(r.useContext)(O),e=t.addTasks,n=t.fetchTasks,a=t.updateIsEdit,s=t.isEdit,i=t.cachedId,o=t.formSubmitButton,u=t.titleDisable,j=Object(r.useState)(""),x=Object(b.a)(j,2),m=x[0],k=x[1],v=Object(r.useState)(""),y=Object(b.a)(v,2),g=y[0],T=y[1],C=function(){k(""),T("")},E=function(){var t=Object(d.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.put("https://to-do-fullstack-api.herokuapp.com/tasks/".concat(i.current),{description:g},{headers:{"Content-Type":"application/json"}});case 2:return t.next=4,p.a.get("https://to-do-fullstack-api.herokuapp.com/tasks/");case 4:e=t.sent,n(e.data),u.current.disabled=!1,o.current.innerText="Submit",o.current.classList.remove("btn-dark"),o.current.classList.add("btn-primary"),i.current=null,a(!1),C();case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(d.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:m,description:g,isFinished:!1},t.next=3,p.a.post("https://to-do-fullstack-api.herokuapp.com/tasks/register",n,{headers:{"Content-Type":"application/json"}});case 3:c=t.sent,e(c.data),C();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(d.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),m&&g&&(s?E():D());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(h.a,{className:"mt-5 mb-5 bg-light p-5",children:[Object(c.jsxs)(h.a.Group,{controlId:"formBasicEmail",children:[Object(c.jsx)(h.a.Label,{children:"Title"}),Object(c.jsx)(h.a.Control,{ref:u,type:"text",value:m,onChange:function(t){return function(t){k(t.target.value)}(t)}})]}),Object(c.jsxs)(h.a.Group,{controlId:"formBasicPassword",children:[Object(c.jsx)(h.a.Label,{children:"Description"}),Object(c.jsx)(h.a.Control,{type:"text",value:g,onChange:function(t){return function(t){T(t.target.value)}(t)}})]}),Object(c.jsx)(f.a,{ref:o,variant:"primary",type:"submit",onClick:function(t){return S(t)},children:"Submit"})]}),Object(c.jsx)(w,{setTitle:k,setDescription:T})]})};var g=function(){return Object(c.jsx)(o.a,{children:Object(c.jsx)("section",{className:"col-12 col-lg-7 mx-auto",children:Object(c.jsx)(m,{children:Object(c.jsx)(y,{})})})})};n(56);i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.0f84b09d.chunk.js.map